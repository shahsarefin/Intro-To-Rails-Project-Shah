<div class="container">
  <%= form_tag breeds_path, method: :get, class: "form-inline my-2 my-lg-0" do %>
    <%= text_field_tag :search, params[:search], placeholder: "Search by breed name", class: "form-control mr-sm-2" %>
    <%= submit_tag "Search", class: "btn btn-outline-success my-2 my-sm-0" %>
  <% end %>

  <h1 class="text-center mt-3">Dog Breeds</h1>
  <table class="table mt-3">
    <thead>
      <tr>
        <th>ID</th>
        <th>Image</th>
        <th>Name</th>
        <th>Temperament</th>
      </tr>
    </thead>
    <tbody>
      <% @breeds.each do |breed| %>
        <tr>
          <td><%= breed['id'] %></td>
          <td>
            <% if breed['reference_image_id'] %>
              <%= image_tag "https://cdn2.thedogapi.com/images/#{breed['reference_image_id']}.jpg", alt: breed['name'], class: 'breed-image' %>
            <% end %>
          </td>
          <td><%= breed['name'] %></td>
          <td><%= breed['temperament'] || "N/A" %></td>
          <td><%= link_to 'Show Details', breed_path(breed['id']), class: 'btn btn-info' %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= paginate @breeds, remote: true %>
  
  <!-- Add a button to return to the home page if a search is performed -->
  <% if params[:search].present? %>
  <button onclick="window.location.href='<%= root_path %>'" class="btn btn-info mt-3">Back to Home</button>
  <% end %>
</div>
